<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Clase 2: Analisis de Diversidad</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Clase2_files/libs/clipboard/clipboard.min.js"></script>
<script src="Clase2_files/libs/quarto-html/quarto.js"></script>
<script src="Clase2_files/libs/quarto-html/popper.min.js"></script>
<script src="Clase2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Clase2_files/libs/quarto-html/anchor.min.js"></script>
<link href="Clase2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Clase2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Clase2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Clase2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Clase2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Clase 2: Analisis de Diversidad</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>El contenido de esta clase se basara mayoritariamente en el libro <code>Community Ecology Analytical Methods Using R and Excel</code> by <code>Mark Gardener</code></p>
<p>Los índices de diversidad biológica son medidas cuantitativas que se utilizan para evaluar la diversidad de especies en un área determinada. Estos índices se utilizan comúnmente en la ecología y la conservación para medir la riqueza de especies, la evenness (equidad) de la distribución de especies y la distancia entre especies. Algunos ejemplos comunes de índices de diversidad biológica incluyen:</p>
<ul>
<li><p>Índice de Shannon: mide la diversidad de especies en un área y también tiene en cuenta la evenness de la distribución de especies.</p></li>
<li><p>Índice de Simpson: mide la diversidad de especies en un área y también tiene en cuenta la riqueza de especies.</p></li>
<li><p>Índice de Berger-Parker: mide la diversidad de especies en un área y se basa en la riqueza de especies y en la proporción de individuos de la especie más abundante.</p></li>
<li><p>Índice de Margalef: mide la diversidad de especies en un área y se basa en la riqueza de especies y en la diferencia entre la riqueza de especies y el número de especies comunes.</p></li>
<li><p>Índice de Jaccard: mide la similitud entre dos conjuntos de especies y se basa en la proporción de especies comunes entre los conjuntos.</p></li>
</ul>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Diversidad: Riqueza de especies.</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Comparando riqueza de especies</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Riqueza de especie y esfuerzo de muestreo</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false" href="">Grafico de caja</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false" href="">Estimando la riqueza de especie total</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-6" role="tab" aria-controls="tabset-2-6" aria-selected="false" href="">Indices de diversidad</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Riqueza de especie se refiere simplemente al numero de especies que hay en un area determinada. Para estimar la riqueza de especie solo requiere tener una lista de las especies observadas.</p>
<p>La riqueza de especies puede ser usada coma variable respuesta (dependiente) en varios analisis, sin embargo, para realizarlo hay que asegurarse que el esfuerzo de muestreo es el mismo para todas las replicas. Una vez hemos tomado en cuenta el <code>problema</code> de esfuerzo de muestreo, hay dos formas de analisar la riqueza de especies.</p>
<ul>
<li><p>Comparar differencias en la riqueza de especie con alguna variable (categorica)</p></li>
<li><p>Correlacionar la riqueza de especie con alguna variable (numerica)</p></li>
</ul>
<p>Primero vamos a cargar la base de datos <code>bird.sta.csv</code> para estimar la riqueza de especie por sitio de estudio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>bird <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/bird.sta.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Estimar la riqueza de especie por cada unidad de muestreo</strong></p>
<blockquote class="blockquote">
<p>En nuestra base de datos <code>bird</code> cada fila corresponde a un esfuerzo de muestreo. Para poder estimar la riqueza de especie utilizaremos el paquete <code>vegan</code>.</p>
</blockquote>
<ul>
<li>Instalar paquete <code>vegan</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"vegan"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Cargar el paquete <code>vegan</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vegan)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: permute</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: lattice</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'lattice' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>This is vegan 2.6-4</code></pre>
</div>
</div>
<ul>
<li>Utilizaremos el comando specnumber para estimar la riqueza de especie por unidad de muestreo</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>Riqueza <span class="ot">&lt;-</span> <span class="fu">specnumber</span>(bird[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>])</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Riqueza)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9  8  7  6 11  8</code></pre>
</div>
</div>
<p>Observe que hemos creado la variable <code>Riqueza</code> la cual contiene la riqueza de especie para cada una de las filas de nuestra base de datos <code>bird</code>. El comando <code>head()</code> nos permite visualizar las primeras 6 observaciones.</p>
<p><strong>Estimar la riqueza de especie por la variable basin</strong></p>
<ul>
<li>Ahora Utilizaremos el comando specnumber condicionada por la variable <code>basin</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>RiquezaBasin <span class="ot">&lt;-</span> <span class="fu">specnumber</span>(bird[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>], bird<span class="sc">$</span>basin)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>RiquezaBasin</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> D  L  N 
65 68 65 </code></pre>
</div>
</div>
<p>Como se puede observar tenemos obtenemos tres numeros (65, 68, 65 ), estos hace referencia a la riqueza de especie para basin D, L y N respectivamente.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Una simple comparacion de espcies solamente es posible cuando hay equivalencia en el esfuerzo de muestreo.</p>
<p>Un unico valor de riqueza de especie no es suficiente para una comparacion, por lo que tendremos que recurir a tecnicas estadisticas para saber si en realidad la riqueza de especie entre basin difiere.</p>
<p><strong>Riqueza de especie por basin (visual )</strong></p>
<p>Comencemos con una comparacion visual utilizando un grafico de caja</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  Basin Riqueza
1     D       9
2     D       8
3     D       7
4     D       6
5     D      11
6     D       8</code></pre>
</div>
</div>
<p>Observe que ahora tenemos varios valores de riqueza por basin.</p>
<p>para realizar la grafica de caja utilizaremos el comando <code>boxplot()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Riqueza <span class="sc">~</span> Basin, <span class="at">data=</span> Basin,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">"Riqueza de especie por basin"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Clase2_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Que podemos concluir con este grafico de caja?</p>
<p><strong>Riqueza de especie por basin (numerico)</strong></p>
<p>Como la grafica de caja no muestra una diferencia marcada, vamos a intentar ser un poco mas descriptivos utilizando valores de tendencia central y dispersion.</p>
<p>Comenzemos estimando la media de la riqueza de especie por basin</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(Basin<span class="sc">$</span>Riqueza, Basin<span class="sc">$</span>Basin, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        D         L         N 
 9.280702  9.710983 10.243017 </code></pre>
</div>
</div>
<p>Al parecer el basin N presenta una media ligeramente mayor que basin D y L, pero tenemos que revisar el error estandard. Para esto utilizaremos el paquete <code>FSA</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FSA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'FSA' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>## FSA v0.9.5. See citation('FSA') if used in publication.
## Run fishR() for related website and fishR('IFAR') for related book.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>BasinRiqueza <span class="ot">&lt;-</span> <span class="fu">Summarize</span>(Riqueza <span class="sc">~</span> Basin, <span class="at">data =</span> Basin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Como se puede observar obtenimos una tabla con la cantidad de muestras (n) y desviacion standart (sd), esto nos permitira estimar el error estandar y los intervalos de confianza.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>BasinRiqueza<span class="sc">$</span>ES <span class="ot">&lt;-</span> BasinRiqueza<span class="sc">$</span>sd <span class="sc">/</span> <span class="fu">sqrt</span>(BasinRiqueza<span class="sc">$</span>n)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>BasinRiqueza<span class="sc">$</span>IC95 <span class="ot">&lt;-</span> <span class="fl">1.96</span> <span class="sc">*</span> BasinRiqueza<span class="sc">$</span>sd <span class="sc">/</span> <span class="fu">sqrt</span>(BasinRiqueza<span class="sc">$</span>n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 14%">
<col style="width: 12%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 10%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Basin</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">Q1</th>
<th style="text-align: right;">median</th>
<th style="text-align: right;">Q3</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">ES</th>
<th style="text-align: right;">IC95</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">D</td>
<td style="text-align: right;">342</td>
<td style="text-align: right;">9.280702</td>
<td style="text-align: right;">2.769255</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.1497442</td>
<td style="text-align: right;">0.2934986</td>
</tr>
<tr class="even">
<td style="text-align: left;">L</td>
<td style="text-align: right;">346</td>
<td style="text-align: right;">9.710983</td>
<td style="text-align: right;">2.621593</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">0.1409377</td>
<td style="text-align: right;">0.2762379</td>
</tr>
<tr class="odd">
<td style="text-align: left;">N</td>
<td style="text-align: right;">358</td>
<td style="text-align: right;">10.243017</td>
<td style="text-align: right;">2.852026</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0.1507343</td>
<td style="text-align: right;">0.2954392</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Ahora que tenemos la media e intervalos de confianza podemos generar un grafico de caja modificado, utilizando el paquete <code>ggplot2</code></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span> BasinRiqueza, <span class="fu">aes</span>(<span class="at">x =</span> Basin, <span class="at">y=</span> mean)) <span class="sc">+</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> mean <span class="sc">-</span> IC95,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">ymax =</span> mean <span class="sc">+</span> IC95)) <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Riqueza de especie por basin"</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Intervalos de confianza al 95%"</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Riqueza"</span>)<span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Clase2_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Que podemos concluir con este grafico de que utiliza la media e intervalos de confianza la 95% ?</p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>Por ahora hemos realizado algunos analisis sin tomar en cuenta la cantidad de muestras por sitio, una forma de solucionar esto es utilizando una curva de acumulacion de especies.</p>
<p><em>La curva de acumulación de especies es un gráfico que muestra la relación entre el número de especies de una comunidad y el tamaño de la muestra del área en la que se encuentran. Se utiliza comúnmente en la ecología para entender cómo varía la biodiversidad en diferentes áreas y cómo afecta a la estabilidad y funcionamiento de los ecosistemas.</em></p>
<p><em>La curva de acumulación de especies se construye mediante el muestreo sistemático de un área y el registro del número de especies que se encuentran en cada muestra. A medida que se aumenta el tamaño de la muestra, se espera que el número de especies encontradas aumente también, pero a un ritmo decreciente. Esto se debe a que, a medida que se aumenta el tamaño de la muestra, es más probable que se incluyan especies raras y poco comunes, lo que se refleja en un aumento más lento del número de especies a medida que se aumenta el tamaño de la muestra.</em></p>
<p><em>La curva de acumulación de especies puede ser útil para comparar la biodiversidad de diferentes áreas y para entender cómo la diversidad de especies afecta a la estabilidad y el funcionamiento de los ecosistemas. También puede ser utilizada para predecir el número total de especies en un área determinada y para identificar áreas con alta biodiversidad que pueden ser prioritarias para la conservación.</em></p>
<p><strong>Curva de acumulacion de especie</strong></p>
<p>Para realizar la curva de acumulacion de especie necesitamos utilizar el comando <code>specaccum()</code> del paquete <code>vegan</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>Riqueza <span class="ot">&lt;-</span> <span class="fu">specaccum</span>(bird[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>], <span class="at">method =</span> <span class="st">"exact"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Para visualizar la curva de acumulacion de especies nececitaremos utilizar el comando <code>plo()</code></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Riqueza, </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">ci.type =</span> <span class="st">"poly"</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">ci.col =</span> <span class="st">"gray"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">ci.lty =</span> <span class="dv">0</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">col=</span> <span class="st">"black"</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Curva de acumulacion de especies"</span>,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Riqueza"</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span> <span class="st">"Esfuerzo de muestreo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Clase2_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Comparacion de riqueza con curva de acumulacion de especie</strong></p>
<p>Para realizar una comparacion de riqueza con una curva de acumulacion de especies, necesitaremos realizar algunas pasos extras</p>
<ul>
<li>Primero separar nuestra tabla <code>bird</code> por catergoria de <code>basin</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bird<span class="sc">$</span>basin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  D   L   N 
342 346 358 </code></pre>
</div>
</div>
<p>Observe que tenemos tres categorias D, L y N</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>D <span class="ot">&lt;-</span> <span class="fu">subset</span>(bird, basin <span class="sc">==</span> <span class="st">"D"</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>L <span class="ot">&lt;-</span> <span class="fu">subset</span>(bird, basin <span class="sc">==</span> <span class="st">"L"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>N <span class="ot">&lt;-</span> <span class="fu">subset</span>(bird, basin <span class="sc">==</span> <span class="st">"N"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Ahora estimamos la curva de acumulacion de especie por basin</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>rar_D <span class="ot">&lt;-</span> <span class="fu">specaccum</span>(D[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>], <span class="at">method =</span> <span class="st">"exact"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>rar_L <span class="ot">&lt;-</span> <span class="fu">specaccum</span>(L[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>], <span class="at">method =</span> <span class="st">"exact"</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>rar_N <span class="ot">&lt;-</span> <span class="fu">specaccum</span>(N[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>], <span class="at">method =</span> <span class="st">"exact"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Creamos un data frame para cada una de las categorias de basin</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>D_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Basin =</span> <span class="st">"D"</span>,</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Riqueza =</span> rar_D<span class="sc">$</span>richness,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">DS =</span> rar_D<span class="sc">$</span>sd,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Esfuerzo =</span> rar_D<span class="sc">$</span>sites)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>L_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Basin =</span> <span class="st">"L"</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Riqueza =</span> rar_L<span class="sc">$</span>richness,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">DS =</span> rar_L<span class="sc">$</span>sd,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Esfuerzo =</span> rar_L<span class="sc">$</span>sites)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>N_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Basin =</span> <span class="st">"N"</span>,</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Riqueza =</span> rar_N<span class="sc">$</span>richness,</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">DS =</span> rar_N<span class="sc">$</span>sd,</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Esfuerzo =</span> rar_N<span class="sc">$</span>sites)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Ahora combinamos nuestras tablas</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>Basin_df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(D_df, L_df, N_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Necesitamos estimar los intervalos de confinza al 95%</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>Basin_df<span class="sc">$</span>IC95 <span class="ot">&lt;-</span> <span class="fl">1.96</span> <span class="sc">*</span> Basin_df<span class="sc">$</span>DS <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Por ultimo realizamos nuetro grafico con ggplot</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span> Basin_df, <span class="fu">aes</span>(<span class="at">x=</span> Esfuerzo, <span class="at">y=</span> Riqueza, <span class="at">fill =</span> Basin))<span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()<span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Riqueza <span class="sc">-</span> IC95,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">ymax =</span> Riqueza <span class="sc">+</span> IC95),</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Curva de acumulacion de especie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Clase2_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Que podemos concluir con este grafico?</p>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<p>Creamos una data frame con los valores de riqueza al muestreo 300</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>Riqueza_df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(D_df[<span class="dv">330</span>,], </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>                    N_df[<span class="dv">330</span>,],</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>                    L_df[<span class="dv">330</span>,])</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>Riqueza_df<span class="sc">$</span>IC <span class="ot">&lt;-</span> <span class="fl">1.96</span> <span class="sc">*</span> Riqueza_df<span class="sc">$</span>DS<span class="sc">/</span><span class="fu">sqrt</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora graficamos</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Riqueza_df, <span class="fu">aes</span>(Basin, Riqueza))<span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span> <span class="dv">4</span>, <span class="at">shape=</span><span class="dv">15</span>)<span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span> Riqueza <span class="sc">-</span> IC,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">ymax =</span> Riqueza <span class="sc">+</span> IC))<span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Clase2_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<p>Generalmente cuando realizamos muestreos no registramos algunas especies, en especial las especies raras. Hay varias tecnicas para estimar la riqueza de especie total en un sitio, estos metodos se pueden dividir en dos:</p>
<ul>
<li><p>Estimaciones basadas en incidencia: <em>Este metodo utiliza la frecuencia de especies por sitios</em></p></li>
<li><p>Estimaciones basadas en abundancia: <em>Este metodo utilizada el conteo de especies en un sitio dado</em></p></li>
</ul>
<p><strong>Estimaciones basadas en incidencia</strong></p>
<p>Son utiles cuando se tienen datos de presencia-ausencia, y tambien se pueden utilizar cuando tenemos abundancias.</p>
<p>Pueden ser calculados utilizando el comando <code>specpool()</code> del paquete <code>vegan</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>Riqueza_incidencia <span class="ot">&lt;-</span> <span class="fu">specpool</span>(bird[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>], <span class="at">pool =</span> bird<span class="sc">$</span>basin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 3%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Species</th>
<th style="text-align: right;">chao</th>
<th style="text-align: right;">chao.se</th>
<th style="text-align: right;">jack1</th>
<th style="text-align: right;">jack1.se</th>
<th style="text-align: right;">jack2</th>
<th style="text-align: right;">boot</th>
<th style="text-align: right;">boot.se</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">D</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">81.61793</td>
<td style="text-align: right;">14.80311</td>
<td style="text-align: right;">74.97076</td>
<td style="text-align: right;">3.454817</td>
<td style="text-align: right;">81.93857</td>
<td style="text-align: right;">69.21052</td>
<td style="text-align: right;">1.842376</td>
<td style="text-align: right;">342</td>
</tr>
<tr class="even">
<td style="text-align: left;">L</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">88.19147</td>
<td style="text-align: right;">20.13051</td>
<td style="text-align: right;">76.97399</td>
<td style="text-align: right;">3.307911</td>
<td style="text-align: right;">83.93929</td>
<td style="text-align: right;">71.79805</td>
<td style="text-align: right;">1.779386</td>
<td style="text-align: right;">346</td>
</tr>
<tr class="odd">
<td style="text-align: left;">N</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">81.62011</td>
<td style="text-align: right;">14.80498</td>
<td style="text-align: right;">74.97207</td>
<td style="text-align: right;">3.153444</td>
<td style="text-align: right;">81.94132</td>
<td style="text-align: right;">69.32603</td>
<td style="text-align: right;">1.720709</td>
<td style="text-align: right;">358</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Haremos un grafico rapido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">poolaccum</span>(bird[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Clase2_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Estimaciones basadas en abundancia</strong></p>
<p>Cuando se tienen datos de abundancia se pueden utilizar diferenctes tecnicas y estimadores para la riqueza de especies total para cada sitio.</p>
<p>Pueden ser calculados utilizando el comando <code>estimateR</code> del paquete <code>vegan</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>Riqueza_abundancia <span class="ot">&lt;-</span> <span class="fu">estimateR</span>(bird[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in sqrt(sum(Deriv.Ch1 %*% t(Deriv.Ch1) * (diag(a) - a %*%
t(a)/S.ACE))): NaNs produced

Warning in sqrt(sum(Deriv.Ch1 %*% t(Deriv.Ch1) * (diag(a) - a %*%
t(a)/S.ACE))): NaNs produced</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>Riqueza_abundancia <span class="ot">&lt;-</span> data.frame <span class="ot">&lt;-</span> <span class="fu">t</span>(Riqueza_abundancia)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">S.obs</th>
<th style="text-align: right;">S.chao1</th>
<th style="text-align: right;">se.chao1</th>
<th style="text-align: right;">S.ACE</th>
<th style="text-align: right;">se.ACE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">11.0</td>
<td style="text-align: right;">2.572229</td>
<td style="text-align: right;">14.62500</td>
<td style="text-align: right;">1.7128863</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">10.5</td>
<td style="text-align: right;">3.138661</td>
<td style="text-align: right;">14.66667</td>
<td style="text-align: right;">1.5510290</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">14.5</td>
<td style="text-align: right;">8.064530</td>
<td style="text-align: right;">28.00000</td>
<td style="text-align: right;">0.9698548</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">9.0</td>
<td style="text-align: right;">4.099458</td>
<td style="text-align: right;">13.70370</td>
<td style="text-align: right;">1.7108677</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: right;">18.0</td>
<td style="text-align: right;">6.625131</td>
<td style="text-align: right;">25.66667</td>
<td style="text-align: right;">1.6274701</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">13.0</td>
<td style="text-align: right;">5.493197</td>
<td style="text-align: right;">20.00000</td>
<td style="text-align: right;">1.3397344</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-2-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-6-tab">
<p>Índice de Shannon: mide la diversidad de especies en un área y también tiene en cuenta la evenness de la distribución de especies.</p>
<p>Índice de Simpson: mide la diversidad de especies en un área y también tiene en cuenta la riqueza de especies.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Indice de Simpson</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Indice de Shannon</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>El índice de diversidad de Simpson es una medida de la diversidad de especies en una comunidad o en un área determinada. Se utiliza para evaluar la riqueza de especies y la evenness (igualdad) en la distribución de las poblaciones de especies en un área determinada.</p>
<p>El índice de diversidad de Simpson se calcula sumando las probabilidades de encontrar dos individuos de cada especie al azar en una muestra, y luego tomando el inverso de esta suma. Matemáticamente, el índice de diversidad de Simpson se puede expresar como:</p>
<p><span class="math inline">\(D = 1 / Σ(n / N)^2\)</span></p>
<p>Donde:</p>
<ul>
<li>D es el índice de diversidad de Simpson</li>
<li>n es el número de individuos de cada especie en la muestra</li>
<li>N es el número total de individuos en la muestra</li>
<li>Σ es la sumatoria de todas las especies presentes en la muestra</li>
</ul>
<p>El índice de diversidad de Simpson es una medida relativa y su valor puede variar entre 0 y 1, donde un valor más cercano a 1 indica una mayor diversidad de especies y una mayor igualdad en la distribución de las poblaciones de especies. El índice de diversidad de Simpson se utiliza comúnmente en la ecología y la conservación de la biodiversidad para evaluar la riqueza de especies y la estabilidad de los ecosistemas.</p>
<p>para estimar el indice de simpson podemos utilizar el comando <code>diversity()</code> del paquete <code>vegan</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>Diversidad_simpson <span class="ot">&lt;-</span> <span class="fu">diversity</span>(bird[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>], <span class="at">index =</span> <span class="st">"simpson"</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Diversidad_simpson)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8757396 0.8595041 0.8437500 0.7600000 0.8979592 0.8600000</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>El índice de Shannon es una medida de la diversidad de especies en una comunidad o en un área determinada. Se utiliza para evaluar la riqueza de especies y la evenness (igualdad) en la distribución de las poblaciones de especies en un área determinada.</p>
<p>El índice de Shannon se calcula sumando la entropía de cada especie en la muestra y luego multiplicando esta suma por el inverso de la entropía máxima posible. Matemáticamente, el índice de Shannon se puede expresar como:</p>
<p><span class="math inline">\(H = -Σ(n / N) * ln(n / N)\)</span></p>
<p>Donde:</p>
<ul>
<li>H es el índice de Shannon</li>
<li>n es el número de individuos de cada especie en la muestra</li>
<li>N es el número total de individuos en la muestra</li>
<li>Σ es la sumatoria de todas las especies presentes en la muestra</li>
</ul>
<p>El índice de Shannon es una medida relativa y su valor puede variar entre 0 y ln(S), donde S es el número de especies presentes en la muestra. Un valor más alto del índice de Shannon indica una mayor diversidad de especies y una mayor igualdad en la distribución de las poblaciones de especies. El índice de Shannon se utiliza comúnmente en la ecología y la conservación de la biodiversidad para evaluar la riqueza de especies y la estabilidad de los ecosistemas.</p>
<p>para estimar el indice de simpson podemos utilizar el comando <code>diversity()</code> del paquete <code>vegan</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>Diversidad_shannon <span class="ot">&lt;-</span> <span class="fu">diversity</span>(bird[,<span class="dv">4</span><span class="sc">:</span><span class="dv">81</span>], <span class="at">index =</span> <span class="st">"shannon"</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Diversidad_shannon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.138397 2.019815 1.906155 1.609438 2.341994 2.025326</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="HN%20Cursos%20publicidad/HN%20Biology%20Inv%20large.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">HN Biology Investigation Academy</figcaption>
</figure>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>